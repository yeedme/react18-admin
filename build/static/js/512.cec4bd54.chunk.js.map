{"version":3,"file":"static/js/512.cec4bd54.chunk.js","mappings":"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","sources":["component/CustomerCard/CustomerCard.jsx","component/CustomerCard/CustomerDrawContent.jsx","pages/Customer/Customer.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { Avatar, Tag,Popconfirm ,message,Drawer} from \"antd\";\r\nimport {\r\n  DeleteOutlined,SmallDashOutlined\r\n} from '@ant-design/icons';\r\nimport \"./CustomerCard.less\";\r\nimport { useState } from \"react\";\r\n\r\nexport default function CustomerCard(props) {\r\n  const {status,data,showDrawer}=props;\r\n  const CustomerStatus = () => {\r\n    return (\r\n      <div className=\"CustomerStatus flex_JSpaceBetween_Acenter\">\r\n        <div className=\"flex_JSpaceBetween_Acenter \">\r\n          <div className={`circle ${status}`} />\r\n          已支付\r\n        </div>\r\n        <div>{data.length}人</div>\r\n      </div>\r\n    );\r\n  };\r\n  //跟据payment 生成对应颜色的标签\r\n  const switchTag = (data) => {\r\n    switch (data) {\r\n      case \"paid\":\r\n        return <Tag color=\"green\">已支付</Tag>;\r\n\r\n      case \"canceled\":\r\n        return <Tag color=\"red\">取消</Tag>;\r\n\r\n      default:\r\n        return <Tag color=\"purple\">异常</Tag>;\r\n    }\r\n  };\r\n  //鼠标移动到卡片上时 会生成option (删除和更多信息)\r\n  const [optionShow,setOptinShow]=useState('none');\r\n  //删除确认\r\n  const confirm=()=>{\r\n    message.success('删除成功');\r\n  }\r\n\r\n  return (\r\n    <>\r\n\r\n     <CustomerStatus paystatus={\"green\"} />\r\n     {/* data默认是'' 长度0 没有数据的时候不渲染子组件 */}\r\n     {data.length==0?\"\":\r\n      data.map((t,index) => {\r\n        return (\r\n          <div key={index} className=\"CustomerCard flex_Jcenter_Acenter flexDirection_column\" onMouseEnter={()=>{\r\n            setOptinShow('flex')\r\n          }}  onMouseLeave={()=>{setOptinShow('none')}}>\r\n            \r\n            <div className=\"flex_JSpaceBetween_Acenter content\">\r\n              <div>\r\n                <Avatar src={`https://joeschmoe.io/api/v1/${t.name}`} />\r\n                {t.name}\r\n              </div>\r\n              <div>{switchTag(t.paystatus)}</div>\r\n            </div>\r\n\r\n            {/* order */}\r\n            <div className=\"flex_JSpaceBetween_Acenter content\">\r\n              <div>Order</div>\r\n              <div>{t.oderId}</div>\r\n            </div>\r\n            {/* price */}\r\n            <div className=\"flex_JSpaceBetween_Acenter content\">\r\n              <div>price</div>\r\n              <div>{t.price}</div>\r\n            </div>\r\n            {/* date */}\r\n            <div className=\"flex_JSpaceBetween_Acenter content\">\r\n              <div>date</div>\r\n              <div>{t.date}</div>\r\n            </div>\r\n            {/* payment */}\r\n            <div className=\"flex_JSpaceBetween_Acenter content\">\r\n              <div>payment</div>\r\n              <div>{t.payment}</div>\r\n            </div>\r\n            <div className=\"options flex_JSpaceBetween_Acenter\" > \r\n            <Popconfirm okText=\"确认\" onConfirm={confirm}  cancelText=\"取消\"  title=\"确认此信息？\" >\r\n            <DeleteOutlined  className=\"icon\" style={{display:optionShow}} />\r\n            </Popconfirm>\r\n            <SmallDashOutlined className='icon' style={{display:optionShow}} onClick={()=>showDrawer(t)}/>          \r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n}","import React from \"react\";\r\nimport { Timeline, Avatar, Statistic, Col, Row, Comment, Tooltip } from \"antd\";\r\nimport TimelineItem from \"antd/lib/timeline/TimelineItem\";\r\nexport default function CustomerDrawContent(props) {\r\n  const { data } = props;\r\n  //动态生成物流信息\r\n  const TimelineTtemType = (status) => {\r\n    switch (status) {\r\n      case \"paid\":\r\n        return (\r\n          <>\r\n            <TimelineItem>支付时间：{data.time}</TimelineItem>\r\n            <TimelineItem>发货时间：{data.push}</TimelineItem>\r\n            <TimelineItem>收货时间：{data.Receipt}</TimelineItem>\r\n          </>\r\n        );\r\n      case \"canceled\":\r\n        return (\r\n          <>\r\n            <TimelineItem>支付时间：{data.time}</TimelineItem>\r\n            <TimelineItem>退款原因：{data.reason}</TimelineItem>\r\n            <TimelineItem>退款时间：{data.canceled}</TimelineItem>\r\n          </>\r\n        );\r\n      default:\r\n        return (\r\n          <>\r\n            <TimelineItem>支付时间：{data.time}</TimelineItem>\r\n            <TimelineItem>订单异常：{data.error}</TimelineItem>\r\n          </>\r\n        );\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <p>订单号：{data.oderId}</p>\r\n      <p>物流信息：</p>\r\n      <Timeline>{TimelineTtemType(data.paystatus)}</Timeline>\r\n      <Row>\r\n        <Col span={12}>\r\n          <Statistic title=\"金额\" value={data.price} />\r\n        </Col>\r\n        <Col span={12}>\r\n          <Statistic title=\"支付方式\" value={data.payment} />\r\n        </Col>\r\n      </Row>\r\n      <Comment\r\n        author={<a>{data.name}</a>}\r\n        avatar={\r\n          <Avatar\r\n            src={`https://joeschmoe.io/api/v1/${data.name}`}\r\n            alt={data.name}\r\n          />\r\n        }\r\n        content={<p>{data.comment}</p>}\r\n        datetime={\r\n          <Tooltip>\r\n            <span>{data.date}</span>\r\n          </Tooltip>\r\n        }\r\n      />\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport CustomerCard from \"../../component/CustomerCard/CustomerCard\";\r\nimport CustomerDrawContent from \"../../component/CustomerCard/CustomerDrawContent\";\r\nimport \"./Customer.less\";\r\nimport { customerGet } from \"../../untils/http\";\r\nimport { Drawer } from \"antd\";\r\n\r\nexport default function Customer() {\r\n  const [paidData, setPaidData] = useState(\"\");\r\n  const [canceledData, setCanceledData] = useState(\"\");\r\n  const [errorData, setErrorData] = useState(\"\");\r\n  const customerData = async () => {\r\n    let { paid, canceled, error } = await customerGet();\r\n    setPaidData(paid);\r\n    setCanceledData(canceled);\r\n    setErrorData(error);\r\n  };\r\n  //获取顾客数据\r\n  useEffect(() => {\r\n    customerData();\r\n  }, []);\r\n\r\n  //控制 drawer打开和关闭；\r\n  const [open,setOpen]=useState(false);\r\n  const [drawerData,setDrawerData]=useState({});\r\n  const showDrawer=(data)=>{\r\n    setOpen(true);\r\n    setDrawerData(data);\r\n  }\r\n  return (\r\n    <>\r\n      <div className=\"Customer \">\r\n        <div className=\"mask\">\r\n          <Drawer title=\"更多信息\" onClose={()=>setOpen(false)} open={open}>\r\n                <CustomerDrawContent data={drawerData}/>\r\n            </Drawer>\r\n          {/* 已支付 */}\r\n          <div>\r\n            <CustomerCard data={paidData} status=\"green\" showDrawer={showDrawer} />\r\n          </div>\r\n          {/* 异常 */}\r\n          <div>\r\n            <CustomerCard data={canceledData} status=\"red\" showDrawer={showDrawer} />\r\n          </div>\r\n          {/* 订单取消 */}\r\n\r\n          <div>\r\n            <CustomerCard data={errorData} status=\"purple\" showDrawer={showDrawer} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":["CustomerCard","props","status","data","showDrawer","CustomerStatus","className","length","switchTag","color","useState","optionShow","setOptinShow","confirm","message","paystatus","map","t","index","onMouseEnter","onMouseLeave","src","name","oderId","price","date","payment","okText","onConfirm","cancelText","title","DeleteOutlined","style","display","SmallDashOutlined","onClick","CustomerDrawContent","TimelineItem","time","push","Receipt","reason","canceled","error","TimelineTtemType","span","value","author","avatar","alt","content","comment","datetime","Customer","paidData","setPaidData","canceledData","setCanceledData","errorData","setErrorData","customerData","customerGet","paid","useEffect","open","setOpen","drawerData","setDrawerData","onClose"],"sourceRoot":""}